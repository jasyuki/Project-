---
title: "Absenteeism-at-work"
subtitle: "Analysis of how different factors affect abesenteeism at work"
author: "The absentbees <br> Niamh Wexelstein, Jason Gunn, Samuel Buxton, Xuyan WANG"
institute: "University of Edinburgh"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r load-packages, include = FALSE}
# Add any additional packages you need to this chunk
library(tidyverse)
library(palmerpenguins)
library(knitr)
library(xaringanthemer)
```

```{r setup, include=FALSE}
# For better figure resolution
knitr::opts_chunk$set(fig.retina = 3, dpi = 300, fig.width = 6, fig.asp = 0.618, out.width = "80%")
```

```{r load-data, include=FALSE}
Absenteeism <- read_csv("Data/Absenteesim At Work.csv")
```

```{r include=FALSE}
style_xaringan(
  title_slide_background_image = "img/confetti.jpg"
)
```

## Why Chose Absenteesim at work

Our team believe it will be interesting to investigate on the factors that may affect people's willingness to work. As majority of us will get employed one day. We would like to know in what circumstances may affect our attendence in working, meanwhile it is not an over-ambitious topic to work on, as the data in this topic fits our expectation: there is enough thing to say, and it is not too complicated for us to present.


---

# Introduction to our data
First we would like to introduce our data. i.e. the background of the data and its details.
```{r glimpse}
glimpse(Absenteeism)
```


---

# 

- The data comes University of California Irvine machine learning laboratory, the database was created with records of absenteeism at work from July 2007 to July 2010 at a courier company in Brazil.

- There are 21 variables and 740 people are in the dataframe. 

The variables are: 
- ID
- Reason for Absence (Absences attested by the International Code of Diseases (ICD) stratified into 21 categories) Month of Absence, Day of the week & Seasons
- Transportation Expense 
- Distance from Residence to Work
- Service time and age
- Work load Average/day
- Hit target 
- Disciplinary failure 
- Education (Level of)
- Son (bizzarely, number of children)
- Social drinker/ smoker
- Pet (number of pets)
- Weight 
- Height
- Body mass index
- Absenteeism time in hours

---

class: inverse, middle, center

# Data Analysis Plan

---

# What We are Going to Do
Our aim is to analyse how different factors affect your likelihood of attending work, and which factor has the most predominant effect.



---
## To Acheive

- First we take an average to some important numeric values, such as absenteeism time, so that we can have a brief understanding about our data, for instance, what the time period may be like. 

- In this analysis, our group is aiming to use linear graph, box plot, and other various graphs in order to analyse the data better.

- In the end our group is aiming for by using the graphs to suggest relationships between different variables. Also may be fiding the correlations.

---

# Layouts

To start with, we may be interested in age linked with absent time taken.

- As age and absenteeism at work may have a casual relationship.

.pull-left[
What we are going to do $^*$
]
.pull-right[
- We first  have a table to find the average of the age and absent time.
- then we can also plot a linear graph to see how will the absent time will change as age increases
]

.footnote[
[*] we may suggest a few reasons based on the results. Why this is happened.
]

---

# Code

```{r boring-analysis}
# Averages

```

---

# Plots

```{r recode-species, echo = FALSE}
# In this chunk I'm doing a bunch of analysis that I don't want to present 
# in my slides. But I need the resulting data frame for a plot I want to present.
iris_modified <- iris %>%
  mutate(Species = fct_other(Species, keep = "setosa"))
```

```{r plot-iris, echo = FALSE}
# Code hidden with echo = FALSE
# Uses modified iris dataset from previous chunk
# Play around with height and width until you're happy with the look
ggplot(data = iris_modified, mapping = aes(x = Sepal.Width, y = Sepal.Length, color = Species)) +
  geom_point() + 
  theme_minimal() # theme options: https://ggplot2.tidyverse.org/reference/ggtheme.html
```

---

## Plot and text

.pull-left[
- Some text
- goes here
]
.pull-right[
```{r warning=FALSE, out.width="100%", fig.width=4, echo=FALSE}
# see how I changed out.width and fig.width from defaults
# to make the figure bigger
ggplot(penguins, aes(x = bill_length_mm, y = species, color = species)) +
  geom_boxplot() +
  theme_minimal()
```
]

---

# Tables

Les us see the whole data set, and see what else is interesting to investigate.

```{r iris-table, echo = FALSE}
kable(head(iris), format = "html")
```

---

# Math Expressions

With the linear graph we have worked out, we can come up a linear equation ax + by = c which x is the age and y is the absenteeism at work in hours.

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$

Limitations:

1. The model may not be in perfect straigh line, so that our pmcc will be close to 0;

1. It is too simple, to just look at the relationship between age absenteesim at work in hours.



---

# Feeling adventurous?

- Want to find out more about `absenteesim at work`? See https://www.kaggle.com/datasets/saumitgp/absenteeism-at-work.

